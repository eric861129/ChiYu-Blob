{{ define "main" }}
<div class="flex flex-row justify-center py-8">
    <div class="w-full max-w-4xl min-w-0">
        <main>
            <section class="mb-12 sm:mb-16">
                <header class="border-b pb-6 mb-6" style="border-color: var(--border-color);">
                    <h1 class="text-2xl sm:text-4xl font-bold tracking-tight">{{ .Title }}</h1>
                </header>
            </section>

            <section>
                <div class="space-y-8">
                    {{/* --- ↓↓↓ 移除 Weight，僅依日期排序並建立分頁 ↓↓↓ --- */}}
                    {{/* 1. 建立分頁器：僅依日期降冪排序，日期需包含時間 */}}
                    {{/* 在排序前過濾掉未來日期的文章 */}}
                    {{ $paginator := .Paginate (sort (where .Pages "Date" "le" now) "Date" "desc") }}
                    {{/* 2. 輸出當前分頁的文章 */}}
                    {{ range $paginator.Pages }}
                        {{ .Render "card" }}
                    {{ end }}
                    {{/* --- ↑↑↑ 移除 Weight，僅依日期排序並建立分頁 ↑↑↑ --- */}}
                </div>
            </section>

            {{/* 新增分頁導覽列 */}}
            {{ partial "pagination.html" . }}
        </main>
    </div>
    {{ partial "tag_sidebar.html" . }}
    </div>
{{ end }}
